import{n as t}from"./utils.BSJX-nVd.js";import{q as f,e as b,g as l,U as o,j as c,m as a}from"./runtime.tlQcse6l.js";function _(n,e,s){if(n==null)return e(void 0),s&&s(void 0),t;const u=n.subscribe(e,s);return u.unsubscribe?()=>u.unsubscribe():u}function v(n,e,s){let u=s[e];const r=u===void 0;r&&(u={store:null,last_value:null,value:a(o),unsubscribe:t},s[e]=u),(r||u.store!==n)&&(u.unsubscribe(),u.store=n??null,u.unsubscribe=d(n,u.value));const i=l(u.value);return i===o?u.last_value:i}function d(n,e){return n==null?(c(e,void 0),t):_(n,s=>c(e,s))}function I(n){m(()=>{let e;for(e in n)n[e].unsubscribe()})}function m(n){f(()=>()=>b(n))}export{v as s,I as u};
